{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Box,Typography,Paper,Grid}from'@mui/material';import{useLocation}from'react-router-dom';import{theme}from'../App';import{cNameMap}from'../const/championsName';import{positions}from'../const/positions';import{url}from'../const/url';import{Link}from'react-router-dom';import{useQuestionContext}from'../context/questionContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function get_images(champion_en){return`https://ddragon.leagueoflegends.com/cdn/img/champion/splash/${champion_en}_0.jpg`;}function ResultPage(){const location=useLocation();const{questionMap,line,username,tag}=useQuestionContext();const idx=line;const[championList,setChampionList]=useState([]);// Use useEffect to fetch data\nuseEffect(()=>{async function fetchChampionData(){try{const response=await fetch(url+`/api/result/${username}/${tag}?line=${line}`,{method:'GET',headers:{'Content-Type':'application/json'}});if(response.status===200){const data=await response.json();setChampionList(data.champions);}else{console.error('Request failed with status:',response.status);}}catch(error){console.error('Error fetching champions:',error);}}if(username&&tag){fetchChampionData();}},[username,tag,line]);return/*#__PURE__*/_jsxs(Box,{sx:{maxWidth:1400,margin:'auto',textAlign:'center',mt:10},children:[/*#__PURE__*/_jsx(Link,{to:\"/\",style:{textDecoration:'none',color:'inherit'},children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,sx:{fontWeight:'bold'},children:\"\\uC653\\uCC54?\"})}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",gutterBottom:true,children:[username,\" \",tag]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{backgroundColor:theme.palette.primary.main,color:'white',p:3,mt:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",gutterBottom:true,sx:{fontWeight:'bold'},children:positions[idx].en}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:5,justifyContent:\"center\",children:championList.map((champion,index)=>/*#__PURE__*/_jsxs(Grid,{item:true,children:[/*#__PURE__*/_jsx(Box,{component:\"img\",mt:3,sx:{width:600,height:350,backgroundColor:index===2?'#6b1b54':'#1e3a5f',borderRadius:2,mb:1},src:get_images(cNameMap[champion].en),alt:champion}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:champion})]},index))})]})]});}export default ResultPage;","map":{"version":3,"names":["React","useEffect","useState","Box","Typography","Paper","Grid","useLocation","theme","cNameMap","positions","url","Link","useQuestionContext","jsx","_jsx","jsxs","_jsxs","get_images","champion_en","ResultPage","location","questionMap","line","username","tag","idx","championList","setChampionList","fetchChampionData","response","fetch","method","headers","status","data","json","champions","console","error","sx","maxWidth","margin","textAlign","mt","children","to","style","textDecoration","color","variant","component","gutterBottom","fontWeight","elevation","backgroundColor","palette","primary","main","p","en","container","spacing","justifyContent","map","champion","index","item","width","height","borderRadius","mb","src","alt"],"sources":["/home/jepetolee/front_back/whatchamp/src/pages/result_page.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Box, Typography, Paper, Grid } from '@mui/material';\nimport { useLocation } from 'react-router-dom';\nimport { theme } from '../App';\nimport { cNameMap } from '../const/championsName';\nimport { positions } from '../const/positions';\nimport { url } from '../const/url';\nimport { Link } from 'react-router-dom';\nimport { useQuestionContext } from '../context/questionContext';\n\nfunction get_images(champion_en) {\n  return `https://ddragon.leagueoflegends.com/cdn/img/champion/splash/${champion_en}_0.jpg`;\n}\n\nfunction ResultPage() {\n  const location = useLocation();\n  const { questionMap, line, username, tag } = useQuestionContext();\n  const idx = line;\n  const [championList, setChampionList] = useState([]);\n\n  // Use useEffect to fetch data\n  useEffect(() => {\n    async function fetchChampionData() {\n      try {\n        const response = await fetch(\n          url+`/api/result/${username}/${tag}?line=${line}`,\n          { method: 'GET', headers: { 'Content-Type': 'application/json' } }\n        );\n\n        if (response.status === 200) {\n          const data = await response.json();\n          setChampionList(data.champions); \n        } else {\n          console.error('Request failed with status:', response.status);\n        }\n      } catch (error) {\n        console.error('Error fetching champions:', error);\n      }\n    }\n\n    if (username && tag) {\n      fetchChampionData();\n    }\n  }, [username, tag, line]);\n\n  return (\n    <Box sx={{ maxWidth: 1400, margin: 'auto', textAlign: 'center', mt: 10 }}>\n      <Link to=\"/\" style={{ textDecoration: 'none', color: 'inherit' }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ fontWeight: 'bold' }}>\n          왓챔?\n        </Typography>\n      </Link>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        {username} {tag}\n      </Typography>\n      <Paper\n        elevation={3}\n        sx={{\n          backgroundColor: theme.palette.primary.main,\n          color: 'white',\n          p: 3,\n          mt: 3,\n        }}\n      >\n        <Typography variant=\"h3\" gutterBottom sx={{ fontWeight: 'bold' }}>\n          {positions[idx].en}\n        </Typography>\n        <Grid container spacing={5} justifyContent=\"center\">\n          {championList.map((champion, index) => (\n            <Grid item key={index}>\n              <Box\n                component=\"img\"\n                mt={3}\n                sx={{\n                  width: 600,\n                  height: 350,\n                  backgroundColor: index === 2 ? '#6b1b54' : '#1e3a5f',\n                  borderRadius: 2,\n                  mb: 1,\n                }}\n                src={get_images(cNameMap[champion].en)}\n                alt={champion}\n              />\n              <Typography variant=\"h5\">{champion}</Typography>\n            </Grid>\n          ))}\n        </Grid>\n      </Paper>\n    </Box>\n  );\n}\n\nexport default ResultPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,GAAG,CAAEC,UAAU,CAAEC,KAAK,CAAEC,IAAI,KAAQ,eAAe,CAC5D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,KAAK,KAAQ,QAAQ,CAC9B,OAASC,QAAQ,KAAQ,wBAAwB,CACjD,OAASC,SAAS,KAAQ,oBAAoB,CAC9C,OAASC,GAAG,KAAQ,cAAc,CAClC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,kBAAkB,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhE,QAAS,CAAAC,UAAUA,CAACC,WAAW,CAAE,CAC/B,MAAO,+DAA+DA,WAAW,QAAQ,CAC3F,CAEA,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,KAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEe,WAAW,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,GAAI,CAAC,CAAGZ,kBAAkB,CAAC,CAAC,CACjE,KAAM,CAAAa,GAAG,CAAGH,IAAI,CAChB,KAAM,CAACI,YAAY,CAAEC,eAAe,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAEpD;AACAD,SAAS,CAAC,IAAM,CACd,cAAe,CAAA4B,iBAAiBA,CAAA,CAAG,CACjC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAC1BpB,GAAG,CAAC,eAAea,QAAQ,IAAIC,GAAG,SAASF,IAAI,EAAE,CACjD,CAAES,MAAM,CAAE,KAAK,CAAEC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAE,CACnE,CAAC,CAED,GAAIH,QAAQ,CAACI,MAAM,GAAK,GAAG,CAAE,CAC3B,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClCR,eAAe,CAACO,IAAI,CAACE,SAAS,CAAC,CACjC,CAAC,IAAM,CACLC,OAAO,CAACC,KAAK,CAAC,6BAA6B,CAAET,QAAQ,CAACI,MAAM,CAAC,CAC/D,CACF,CAAE,MAAOK,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACF,CAEA,GAAIf,QAAQ,EAAIC,GAAG,CAAE,CACnBI,iBAAiB,CAAC,CAAC,CACrB,CACF,CAAC,CAAE,CAACL,QAAQ,CAAEC,GAAG,CAAEF,IAAI,CAAC,CAAC,CAEzB,mBACEN,KAAA,CAACd,GAAG,EAACqC,EAAE,CAAE,CAAEC,QAAQ,CAAE,IAAI,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAQ,CAAEC,EAAE,CAAE,EAAG,CAAE,CAAAC,QAAA,eACvE9B,IAAA,CAACH,IAAI,EAACkC,EAAE,CAAC,GAAG,CAACC,KAAK,CAAE,CAAEC,cAAc,CAAE,MAAM,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAJ,QAAA,cAC/D9B,IAAA,CAACX,UAAU,EAAC8C,OAAO,CAAC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,YAAY,MAACZ,EAAE,CAAE,CAAEa,UAAU,CAAE,MAAO,CAAE,CAAAR,QAAA,CAAC,eAEjF,CAAY,CAAC,CACT,CAAC,cACP5B,KAAA,CAACb,UAAU,EAAC8C,OAAO,CAAC,WAAW,CAACE,YAAY,MAAAP,QAAA,EACzCrB,QAAQ,CAAC,GAAC,CAACC,GAAG,EACL,CAAC,cACbR,KAAA,CAACZ,KAAK,EACJiD,SAAS,CAAE,CAAE,CACbd,EAAE,CAAE,CACFe,eAAe,CAAE/C,KAAK,CAACgD,OAAO,CAACC,OAAO,CAACC,IAAI,CAC3CT,KAAK,CAAE,OAAO,CACdU,CAAC,CAAE,CAAC,CACJf,EAAE,CAAE,CACN,CAAE,CAAAC,QAAA,eAEF9B,IAAA,CAACX,UAAU,EAAC8C,OAAO,CAAC,IAAI,CAACE,YAAY,MAACZ,EAAE,CAAE,CAAEa,UAAU,CAAE,MAAO,CAAE,CAAAR,QAAA,CAC9DnC,SAAS,CAACgB,GAAG,CAAC,CAACkC,EAAE,CACR,CAAC,cACb7C,IAAA,CAACT,IAAI,EAACuD,SAAS,MAACC,OAAO,CAAE,CAAE,CAACC,cAAc,CAAC,QAAQ,CAAAlB,QAAA,CAChDlB,YAAY,CAACqC,GAAG,CAAC,CAACC,QAAQ,CAAEC,KAAK,gBAChCjD,KAAA,CAACX,IAAI,EAAC6D,IAAI,MAAAtB,QAAA,eACR9B,IAAA,CAACZ,GAAG,EACFgD,SAAS,CAAC,KAAK,CACfP,EAAE,CAAE,CAAE,CACNJ,EAAE,CAAE,CACF4B,KAAK,CAAE,GAAG,CACVC,MAAM,CAAE,GAAG,CACXd,eAAe,CAAEW,KAAK,GAAK,CAAC,CAAG,SAAS,CAAG,SAAS,CACpDI,YAAY,CAAE,CAAC,CACfC,EAAE,CAAE,CACN,CAAE,CACFC,GAAG,CAAEtD,UAAU,CAACT,QAAQ,CAACwD,QAAQ,CAAC,CAACL,EAAE,CAAE,CACvCa,GAAG,CAAER,QAAS,CACf,CAAC,cACFlD,IAAA,CAACX,UAAU,EAAC8C,OAAO,CAAC,IAAI,CAAAL,QAAA,CAAEoB,QAAQ,CAAa,CAAC,GAdlCC,KAeV,CACP,CAAC,CACE,CAAC,EACF,CAAC,EACL,CAAC,CAEV,CAEA,cAAe,CAAA9C,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}